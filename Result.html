<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./Result.css" />
    <script src="./javascriot.js"></script>
</head>

<body>
    <div id="home" class="div">

        <div class="div1">
            <button class="btn" type="button" onclick="home()">Check Result</button>
            <div class="div2"></div>
            <button class="btn" type="button" onclick="profile()">Post Result</button>
            <div class="div2"></div>
            <button class="btn" type="button" onclick="Delete()">Delete Result</button>
        </div>

        <div class="div3">
            <h1> <u>Result Checker</u></h1>

            <div id="div">
                <label for="fname">Reg. No: </label>
                <input type="number" id="fname" name="fname"><br><br>
                <label for="lname">Roll. No: </label>
                <input type="number" id="lname" name="lname"><br><br>
                <input id="submit" type="submit" value="Check" onclick="check()">
            </div>

        </div>

        <script>
            var fname = document.getElementById('fname');
            var lname = document.getElementById('lname');
            var div = document.getElementById('div');
            var j = 0;
            function check() {
                if (j == 1) {
                    return
                }
                j = 1;
                let t = 0;
                fetch("https://scientistx.herokuapp.com/data").then(function (res) {
                    res.json().then(function (data) {
                        for (var i = 0; i < data.length; i++) {
                            if (data[i].reg_no == fname.value && data[i].roll_no == lname.value) {
                                div.insertAdjacentHTML('afterend', "<div class='div3a'><p> Name :" + data[i].name + "</p><p>GPA :" + data[i].gpa + "</p></div>");
                                t = 1;
                                break
                            }
                        }
                        if (t == 0) {
                            alert('Invalid', 'opps');
                        }
                    });
                })
            }
        </script>

    </div>

    <div id="profile" class="diva">
        <div class="div1">
            <button class="btn" type="button" onclick="home()">Check Result</button>
            <div class="div2"></div>
            <button class="btn" type="button" onclick="profile()">Post Result</button>
            <div class="div2"></div>
            <button class="btn" type="button" onclick="Delete()">Delete Result</button>
        </div>
        <div class="div3">
            <h1> <u>Post Result</u></h1>

            <form action="https://scientistx.herokuapp.com/save" method="post">
                <label for="fname">Reg. No:</label>
                <input type="number" name="reg_no"><br><br>
                <label for="lname">Roll. No:</label>
                <input type="number" name="roll_no"><br><br>
                <label for="fname">Name:</label>
                <input type="text" name="name" style="margin-left: 18px;"><br><br>
                <label for="fname">CPA:</label>
                <input type="number" name="gpa" style="margin-left: 25px;"><br><br>
                <input type="submit" value="Submit" onclick="myFunction()">
            </form>
        </div>
    </div>



    <div id="Delete" class="diva">
        <div class="div1">
            <button class="btn" type="button" onclick="home()">Check Result</button>
            <div class="div2"></div>
            <button class="btn" type="button" onclick="profile()">Post Result</button>
            <div class="div2"></div>
            <button class="btn" type="button" onclick="Delete()">Delete Result</button>
        </div>
        <div class="div3">
            <h1> <u>Delete Result</u></h1>

            <div id="div">
                <label for="fname">Reg. No: </label>
                <input type="number" name="dname"><br><br>
                <label for="lname">Roll. No: </label>
                <input type="number" name="ename"><br><br>
                <input id="submit" type="submit" value="Check" onclick="dcheck()">
            </div>
        </div>


        <script>
            var dname = document.getElementById('dname');
            var ename = document.getElementById('ename');
            var diva = document.getElementById('diva');
            var a = 0;
            function dcheck() {
                if (a == 1) {
                    return
                }
                a = 1;
                let b = 0;
                fetch("https://scientistx.herokuapp.com/data").then(function (resD) {
                    resD.json().then(function (data) {
                        for (var i = 0; i < data.length; i++) {
                            if (data[i].reg_no == dname.value && data[i].roll_no == ename.value) {
                                diva.insertAdjacentHTML('afterend', "<div class='deletediv'> <h1 style='margin-left: 10px;''>" + data[i].name + "</h1></div>");
                                b = 1;
                                break
                            }
                        }
                        if (b == 0) {
                            alert('Invalid', 'opps');
                        }
                    });
                })
            }
        </script>




    </div>


    <script>
        function home() {
            document.getElementById("home").style.display = "block";
            document.getElementById("profile").style.display = "none";
            document.getElementById("Delete").style.display = "none";
        }
        function profile() {
            document.getElementById("home").style.display = "none";
            document.getElementById("profile").style.display = "block";
            document.getElementById("Delete").style.display = "none";
        }
        function Delete() {
            document.getElementById("Delete").style.display = "block";
            document.getElementById("home").style.display = "none";
            document.getElementById("profile").style.display = "none";
        }

    </script>

    <script>
        function myFunction() {
            alert("Your Data Save in Surver");
        }
    </script>

    <div class="divsex">
        <div class="loader">
            <div class="divx"></div>

        </div>
    </div>




</body>

</html>